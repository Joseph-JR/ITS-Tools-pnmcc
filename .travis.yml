dist: trusty
sudo: false

install: true

language: java
jdk: oraclejdk8

before_script:
 - echo $JAVA_OPTS
 - export JAVA_OPTS='-Xms1g -Xmx3g'


env :
 - FLAGS="-greatspnpath $(pwd)/usr/local/GreatSPN/bin/RGMEDD2 -order META"  TEST=$(ls oracle/*PT*SS.out)
 - FLAGS="-greatspnpath $(pwd)/usr/local/GreatSPN/bin/RGMEDD2 -order FR"  TEST=$(ls oracle/*PT*SS.out)
 

script :
 - ./installGreatSPN.sh
 - ./install_eclipse.sh
 - (rc=0 ; for MODEL in $TEST ; do ./run_test.pl $MODEL.out $FLAGS || rc=$? ; done; exit $rc) 

